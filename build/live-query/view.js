(()=>{var e={942:(e,t)=>{var r;!function(){"use strict";var s={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,n(r)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)s.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.domReady;var t=r.n(e);const s=window.wp.element,o=window.wp.apiFetch;var n=r.n(o);const a=window.wp.url;r(942);const i=window.ReactJSXRuntime,l=({liveMore:e,liveFilters:t,filters:r,postType:o,limit:l})=>{const[c,d]=(0,s.useState)([]),[u,p]=(0,s.useState)(!1),[m,v]=(0,s.useState)(null),[y,h]=(0,s.useState)({}),[f,g]=(0,s.useState)(1),[x,b]=(0,s.useState)(1),[j,w]=(0,s.useState)(0),[S,O]=(0,s.useState)(!1),[E,N]=(0,s.useState)(!0),L=l||6;(0,s.useEffect)(()=>{t&&k(),p(!0)},[]),(0,s.useEffect)(()=>{o&&u&&q(1,!1)},[m]);const k=async()=>{let e={};r&&(e.taxonomies=Object.keys(r)),n()({path:(0,a.addQueryArgs)("/everything-filter/v1/terms",e)}).then(e=>{v(e.taxonomyTerms),h(Object.fromEntries(Object.keys(e.taxonomyTerms).map(e=>[e,!1])))})},q=async(e=1,t=!1)=>{O(!0);const r=document.body.classList.contains("single"),s=document.body.attributes.class.value.match(/postid-(\d+)/);try{const t={};Object.keys(m).map(e=>{t[e]=[],m[e].forEach(r=>{1===r.selected&&t[e].push(r.slug)})});const i={page:e,per_page:L,post_type:o,...r&&s&&{exclude:s[1]},tax_query:t};n()({path:(0,a.addQueryArgs)("everything-filter/v1/posts",i)}).then(t=>{b(parseInt(t.total_pages)),w(parseInt(t.total)),g(e),N(!1),d(1===e?t.posts:[...c,...t.posts])})}catch(e){console.error("Error fetching posts:",e)}finally{O(!1)}};return(0,i.jsxs)("div",{children:[t&&(0,s.createPortal)((0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("select",{onChange:e=>setLabel(e.target.value),children:[(0,i.jsx)("option",{children:"One"}),(0,i.jsx)("option",{children:"Two"})]})}),t),e&&(0,s.createPortal)((0,i.jsxs)("div",{className:"live-posts-more",children:[(0,i.jsx)("button",{onClick:()=>{f<x&&q(f+1,!0)},disabled:S,className:"load-more-btn",children:S?"Loading...":"show more posts"}),(0,i.jsxs)("p",{children:["Showing ",c.length," out of ",j," posts"]})]}),e),(0,i.jsx)(i.Fragment,{children:S&&0===c.length?(0,i.jsx)("div",{className:"post-loading",children:(0,i.jsx)("p",{children:"Loading posts..."})}):0===c.length?(0,i.jsx)("div",{className:"post-no-results",children:(0,i.jsx)("p",{children:"No posts found matching your criteria."})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"post-grid",children:c.map(e=>(0,i.jsx)("div",{className:"post-card type-"+o,dangerouslySetInnerHTML:{__html:e.formatted}}))})})})]})};function c(e){e.classList.add("has-loaded")}t()(()=>{const e=document.querySelector(".wp-block-scm-live-query"),t=e.querySelector(".wp-block-scm-live-posts");if(t){const r=e.querySelector(".wp-block-scm-live-more"),o=e.querySelector(".wp-block-scm-live-filters"),n=e.attributes.posttype.value,a=parseInt(e.attributes.limit.value),c=o?JSON.parse(o.attributes.filters.value):void 0;(0,s.createRoot)(t).render((0,i.jsx)(l,{liveMore:r,liveFilters:o,filters:c,postType:n,limit:a}))}}),new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{"IMG"===e.tagName&&(e.complete?c(e):e.addEventListener("load",()=>c(e))),e.querySelectorAll&&e.querySelectorAll("img").forEach(e=>{e.complete?c(e):e.addEventListener("load",()=>c(e))})})})}).observe(document.body,{childList:!0,subtree:!0})})()})();