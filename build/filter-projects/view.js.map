{"version":3,"file":"filter-projects/view.js","mappings":"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","sources":["webpack://everything-filter/external window [\"wp\",\"apiFetch\"]","webpack://everything-filter/external window [\"wp\",\"domReady\"]","webpack://everything-filter/external window [\"wp\",\"element\"]","webpack://everything-filter/external window [\"wp\",\"url\"]","webpack://everything-filter/external window \"ReactJSXRuntime\"","webpack://everything-filter/webpack/bootstrap","webpack://everything-filter/webpack/runtime/compat get default export","webpack://everything-filter/webpack/runtime/define property getters","webpack://everything-filter/webpack/runtime/hasOwnProperty shorthand","webpack://everything-filter/webpack/runtime/make namespace object","webpack://everything-filter/./src/filter-projects/view.js"],"sourcesContent":["module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"url\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import domReady from '@wordpress/dom-ready';\nimport { createRoot } from '@wordpress/element';\nimport { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs, getQueryArgs, removeQueryArgs } from '@wordpress/url';\nimport Select from 'react-select';\n\nconst EverythingFilter = ( { postType, restEndpoint, limit, moreButton, showFilter, showProjectsLink, initService, initIndustry } ) => {\n\tconst [posts, setPosts] = useState([]);\n\tconst [services, setServices] = useState([]);\n\tconst [industries, setIndustries] = useState([]);\n\tconst [selectedService, setSelectedService] = useState( initService );\n\tconst [selectedIndustry, setSelectedIndustry] = useState( initIndustry );\n\tconst [currentPage, setCurrentPage] = useState(1);\n\tconst [totalPages, setTotalPages] = useState(1);\n\tconst [totalProjects, setTotalProjects] = useState(0);\n\tconst [loading, setLoading] = useState(false);\n\tconst [initialLoad, setInitialLoad] = useState(true);\n\tconst [loadedImages, setLoadedImages] = useState({});\n  const handleImageLoad = (id) => {\n    setLoadedImages(prev => ({ ...prev, [id]: true }));\n  };\n\n\t// const apiUrl = window.projectFiltersData.apiUrl;\n\tconst perPage = limit ? limit : 6;\n\n\n\t// Fetch taxonomies on mount\n\t// useEffect(() => {\n\t// \tfetchTaxonomies();\n\t// }, []);\n\n\t// Fetch projects when filters change\n\tuseEffect(() => {\n\t\tif( postType && restEndpoint ) {\n\t\t\tfetchPosts(1, false);\n\t\t\t// setUpdatedURL();\n\t\t}\n\t}, [selectedService, selectedIndustry]);\n\t\n\n\t// const fetchTaxonomies = async () => {\n\t// \tapiFetch( { \n\t// \t\tpath: '/project-filters/v1/services' // addQueryArgs( '/services', queryParams )\n\t// \t} ).then( ( data ) => {\n\t// \t\tsetServices( data.services || [] );\n\t// \t} );\n\n\t// \tapiFetch( { \n\t// \t\tpath: '/project-filters/v1/industries' // addQueryArgs( '/industries', queryParams )\n\t// \t} ).then( ( data ) => {\n\t// \t\tsetIndustries( data.industries || [] );\n\t// \t} );\n\t// };\n\n\tconst fetchPosts = async (page = 1, append = false) => {\n\t\tsetLoading(true);\n\n\t\tconst exclude = document.body.classList.contains( 'single' )\n\t\tconst postId = document.body.attributes.class.value.match( /postid-(\\d+)/ );\n\n\t\ttry {\n\t\t\tconst params = {\n\t\t\t\tpage: page,\n\t\t\t\tper_page: perPage,\n\t\t\t\tpost_type: postType,\n\t\t\t\t...( exclude && postId && { exclude: postId[1] } )\n\t\t\t};\n\n\t\t\t// add taxonomies\n\t\t\t// if (selectedService) {\n\t\t\t// \tparams.service = selectedService;\n\t\t\t// }\n\t\t\t// if (selectedIndustry) {\n\t\t\t// \tparams.industry = selectedIndustry;\n\t\t\t// }\n\n\t\t\tapiFetch( { \n\t\t\t\tpath: addQueryArgs( \"everything-filter/v1/posts\", params )\n\t\t\t} ).then( ( res ) => {\n\t\t\t\tsetTotalPages( parseInt( res.total_pages ) );\n\t\t\t\tsetTotalProjects( parseInt( res.total ) );\n\t\t\t\tsetCurrentPage( page );\n\t\t\t\tsetInitialLoad( false );\n\t\t\t\tsetPosts( res.posts );\n\t\t\t\t// return res.json();\n\t\t\t} );\n\t\t} catch (error) {\n\t\t\tconsole.error('Error fetching projects:', error);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleLoadMore = () => {\n\t\tif ( currentPage < totalPages ) {\n\t\t\tfetchPosts( currentPage + 1, true );\n\t\t}\n\t};\n\n\tconst baseURL = () => removeQueryArgs( window.location.href, 'service', 'industry' );\n\n\tconst setUpdatedURL = () => {\n\t\tconst url = addQueryArgs( baseURL(), {\n\t\t\t...( selectedService.length > 0 && { service: selectedService } ),\n\t\t\t...( selectedIndustry.length > 0 && { industry: selectedIndustry } ),\n\t\t} );\n\t\twindow.history.pushState( {}, \"Page\", url );\n\t}\n\n\tconst handleServiceChange = ( { value } ) => {\n\t\tsetSelectedService( value );\n\t\tsetCurrentPage( 1 );\n\t\t// update URL\n\t\t// setUpdatedURL();\n\t};\n\n\tconst handleIndustryChange = ( { value } ) => {\n\t\tsetSelectedIndustry( value );\n\t\tsetCurrentPage( 1 );\n\t\t// update URL\n\t\t// setUpdatedURL();\n\t};\n\n\tconst handleReset = () => {\n\t\tsetSelectedService( '' );\n\t\tsetSelectedIndustry( '' );\n\t\tsetCurrentPage( 1 );\n\t};\n\n\tconst hasActiveFilters = selectedService || selectedIndustry;\n\tconst hasMoreProjects = currentPage < totalPages;\n\n\treturn (\n\t\t<div className={ `posts-filters-container posts-limit-${perPage}` }>\n\t\t\t{ ( showFilter || showProjectsLink ) && (\n\t\t\t\t<div className=\"posts-header\">\n\t\t\t\t\t{/* { showFilter && industries.length > 0 && services.length > 0 && (\n\t\t\t\t\t\t<div className=\"posts-filters-controls\">\n\t\t\t\t\t\t\t<div className=\"filter-group\">\n\t\t\t\t\t\t\t\t{!initialLoad && (\n\t\t\t\t\t\t\t\t\t<span className=\"posts-results\">Showing {posts.length} posts in</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tclassName=\"service-filter\"\n\t\t\t\t\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\t\t\t\t\tdefaultValue={ selectedService === '' ? { value: '', label: 'service' } : services.filter( s => s.slug === selectedService ).map(item => ( { value: item.slug, label: item.name.toLowerCase() } ) )[0] }\n\t\t\t\t\t\t\t\t\tisLoading={ loading }\n\t\t\t\t\t\t\t\t\tisClearable={ false }\n\t\t\t\t\t\t\t\t\tisSearchable={ false }\n\t\t\t\t\t\t\t\t\tonChange={ handleServiceChange }\n\t\t\t\t\t\t\t\t\tname=\"service-filter\"\n\t\t\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t\t\t{ value: '', label: 'all services' },\n\t\t\t\t\t\t\t\t\t\t...services.map(item => ( { value: item.slug, label: item.name.toLowerCase() } ) )\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tclassName=\"industry-filter\"\n\t\t\t\t\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\t\t\t\t\tdefaultValue={ initIndustry === '' ? { value: '', label: 'industry' } : industries.filter( i => i.slug === initIndustry ).map(item => ( { value: item.slug, label: item.name.toLowerCase() } ) )[0] }\n\t\t\t\t\t\t\t\t\tisLoading={ loading }\n\t\t\t\t\t\t\t\t\tisClearable={ false }\n\t\t\t\t\t\t\t\t\tisSearchable={ false }\n\t\t\t\t\t\t\t\t\tonChange={ handleIndustryChange }\n\t\t\t\t\t\t\t\t\tname=\"industry-filter\"\n\t\t\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t\t\t{ value: '', label: 'all industries' },\n\t\t\t\t\t\t\t\t\t\t...industries.map(item => ( { value: item.slug, label: item.name.toLowerCase() } ) )\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) } */}\n\t\t\t\t\t{ showProjectsLink && (\n\t\t\t\t\t\t<div class=\"wp-block-buttons is-content-justification-center is-layout-flex wp-block-buttons-is-layout-flex\">\n\t\t\t\t\t\t\t<div class=\"wp-block-button is-style-minimal\">\n\t\t\t\t\t\t\t\t<a class=\"wp-block-button__link wp-element-button\" href=\"/projects\">projects overview</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ loading && posts.length === 0 ? (\n\t\t\t\t<div className=\"project-loading\">\n\t\t\t\t\t<p>Loading posts...</p>\n\t\t\t\t</div>\n\t\t\t) : posts.length === 0 ? (\n\t\t\t\t<div className=\"project-no-results\">\n\t\t\t\t\t<p>No posts found matching your criteria.</p>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"project-grid\">\n\t\t\t\t\t\t{posts.map(post => (\n\t\t\t\t\t\t\t<div key={post.id} className=\"post-card\">\n\t\t\t\t\t\t\t\t{post.featured_image && (\n\t\t\t\t\t\t\t\t\t<div className=\"post-image\">\n\t\t\t\t\t\t\t\t\t\t<a href={post.link}>\n\t\t\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\t\t\tsrc={post.featured_image} \n\t\t\t\t\t\t\t\t\t\t\t\talt={post.title} \n\t\t\t\t\t\t\t\t\t\t\t\tclassName={ loadedImages[post.id] ? 'has-loaded' : '' }\n\t\t\t\t\t\t\t\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t\t\t\t\t\t\t\t\tonLoad={ () => handleImageLoad( post.id ) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{ post.featured_media }\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className=\"post-content\">\n\t\t\t\t\t\t\t\t\t<h6 className=\"post-title\">\n\t\t\t\t\t\t\t\t\t\t<a href={post.link}>{post.title}</a>\n\t\t\t\t\t\t\t\t\t</h6>\n\n\t\t\t\t\t\t\t\t\t{post.excerpt && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-excerpt\"\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: post.excerpt }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<a href={post.link} className=\"post-link\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"label\">explore the post</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{ moreButton && hasMoreProjects && (\n\t\t\t\t\t\t<div className=\"project-load-more\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={handleLoadMore}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\tclassName=\"load-more-btn\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{loading ? 'Loading...' : 'show more projects'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<p>Showing {posts.length} out of {totalProjects} projects</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\n// Render the app\ndomReady( () => {\n\tconst container = document.querySelector( '.wp-block-six-character-media-everything-filter' );\n\tconst root = createRoot(\n\t\tcontainer\n\t);\n\n\tconst postType = container.attributes.posttype.value;\n\tconst restEndpoint = container.attributes.restendpoint.value;\n\tconst limit = parseInt( container.attributes.limit.value );\n\tconst morebutton = container.attributes.morebutton.value === \"1\" ? true : false;\n\tconst showFilter = container.attributes.showfilters.value === \"1\" ? true : false;\n\tconst showProjectsLink = container.attributes.showprojectslink.value === \"1\" ? true : false;\n\n\tconst args = getQueryArgs( window.location.href );\n\tconst initService = args.service ? args.service : '';\n\tconst initIndustry = args.industry ? args.industry : '';\n\n\troot.render( <EverythingFilter \n\t\tpostType={ postType }\n\t\trestEndpoint={ restEndpoint }\n\t\tlimit={ limit }\n\t\tmoreButton={ morebutton }\n\t\tshowFilter={ showFilter }\n\t\tshowProjectsLink={ showProjectsLink }\n\t\tinitService={ initService }\n\t\tinitIndustry={ initIndustry }\n\t/> );\n} );"],"names":["domReady","createRoot","useState","useEffect","apiFetch","addQueryArgs","getQueryArgs","removeQueryArgs","Select","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EverythingFilter","postType","restEndpoint","limit","moreButton","showFilter","showProjectsLink","initService","initIndustry","posts","setPosts","services","setServices","industries","setIndustries","selectedService","setSelectedService","selectedIndustry","setSelectedIndustry","currentPage","setCurrentPage","totalPages","setTotalPages","totalProjects","setTotalProjects","loading","setLoading","initialLoad","setInitialLoad","loadedImages","setLoadedImages","handleImageLoad","id","prev","perPage","fetchPosts","page","append","exclude","document","body","classList","contains","postId","attributes","class","value","match","params","per_page","post_type","path","then","res","parseInt","total_pages","total","error","console","handleLoadMore","baseURL","window","location","href","setUpdatedURL","url","length","service","industry","history","pushState","handleServiceChange","handleIndustryChange","handleReset","hasActiveFilters","hasMoreProjects","className","children","map","post","featured_image","link","src","alt","title","onLoad","featured_media","excerpt","dangerouslySetInnerHTML","__html","onClick","disabled","container","querySelector","root","posttype","restendpoint","morebutton","showfilters","showprojectslink","args","render"],"sourceRoot":""}